<section
  style="
    background-image: url('assets/img/header-bg.jpg');
    background-size: cover;
  "
  class="property"
>
  <div class="form-container">
    <form [formGroup]="form" (ngSubmit)="save()">
      <h2 class="text-center"><strong>Create</strong> a new Property.</h2>
      <div *ngIf="error" class="alert alert-danger">
        {{ error }}
      </div>
      <div *ngIf="success" class="alert alert-success">
        {{ success }}
      </div>
      <div class="form-group">
        <input
          formControlName="Title"
          class="form-control"
          type="text"
          name="Title"
          placeholder="Title"
        />
        <div
          *ngIf="Title?.touched && Title?.invalid"
          class="alert alert-danger"
        >
          Title is Required.
        </div>
      </div>

      <div class="row">
        <div class="form-group col">
          <label>Property Type :</label>
          <select class="form-control" formControlName="propertyType">
            <option
              *ngFor="let propertyType of propertyTypes"
              [ngValue]="propertyType.name"
            >
              {{ propertyType.name }}
            </option>
          </select>
          <div
            *ngIf="propertyType?.touched && propertyType?.pristine"
            class="alert alert-danger"
          >
            PropertyType is Required.
          </div>
          <div
            *ngIf="propertyType?.dirty && propertyType?.invalid"
            class="alert alert-danger"
          >
            Invalid PropertyType.
          </div>
        </div>

        <div class="form-group col">
          <label>Area Type</label>
          <select class="form-control" formControlName="AreaType">
            <option *ngFor="let area of filteredAreas" [ngValue]="area.name">
              {{ area.name }}
            </option>
          </select>

          <div
            *ngIf="AreaType?.touched && AreaType?.pristine"
            class="alert alert-danger"
          >
            AreaType is Required.
          </div>
          <div
            *ngIf="AreaType?.invalid && AreaType?.dirty"
            class="alert alert-danger"
          >
            Invalid AreaType.
          </div>
        </div>
      </div>

      <div class="row">
        <div class="form-group col">
          <label>Country :</label>
          <select class="form-control" formControlName="Country">
            <option *ngFor="let country of countries" [ngValue]="country.name">
              {{ country?.name }}
            </option>
          </select>

          <div
            *ngIf="Country?.touched && Country?.pristine"
            class="alert alert-danger"
          >
            Country is Required.
          </div>
        </div>

        <div class="form-group col">
          <label>City :</label>
          <select class="form-control" formControlName="City">
            <option *ngFor="let city of filteredCities" [ngValue]="city.name">
              {{ city?.name }}
            </option>
          </select>
          <div
            *ngIf="City?.touched && City?.pristine"
            class="alert alert-danger"
          >
            City is Required.
          </div>
        </div>
      </div>

      <div class="row">
        <div class="form-group col">
          <label for="">Available from:</label>
          <input
            formControlName="AvailableStartDate"
            class="form-control"
            type="date"
            name="AvailableStartDate"
            placeholder="AvailableStartDate"
            min="{{ const }}"
          />
          <div
            *ngIf="AvailableStartDate?.touched && AvailableStartDate?.invalid"
            class="alert alert-danger"
          >
            AvailableStartDate is Required.
          </div>
        </div>
        <div class="form-group col">
          <label for="">Available to:</label>
          <input
            formControlName="AvailableEndDate"
            class="form-control"
            type="date"
            name="AvailableEndDate"
            placeholder="AvailableEndDate"
            min="{{ const }}"
          />
          <div
            *ngIf="AvailableEndDate?.touched && AvailableEndDate?.invalid"
            class="alert alert-danger"
          >
            AvailableEndDate is Required.
          </div>
        </div>
      </div>

      <div class="row">
        <div class="form-group col">
            <input
            formControlName="PropertyDescription"
            class="form-control"
            type="text"
            name="PropertyDescription"
            placeholder="PropertyDescription"
          />
          <div
            *ngIf="
              PropertyDescription?.touched && PropertyDescription?.pristine
            "
            class="alert alert-danger"
          >
            PropertyDescription is Required.
          </div>
        </div>
        <div class="form-group col">
            <input
            formControlName="PricePerNight"
            class="form-control"
            type="number"
            name="PricePerNight"
            placeholder="PricePerNight"
          />
          <div
            *ngIf="PricePerNight?.touched && PricePerNight?.invalid"
            class="alert alert-danger"
          >
            PricePerNight is Required.
          </div>
      </div>
 
         
        </div>
      
      <div class="form-group">
       <!-- <input
            formControlName="PropertyAddress"
            class="form-control"
            type="text"
            name="PropertyAddress"
            placeholder="PropertyAddress"
          /> -->
          <app-googlemap (location)="setLocation($event)"></app-googlemap>
          <!-- <div
            *ngIf="PropertyAddress?.touched && PropertyAddress?.pristine"
            class="alert alert-danger"
          >
            PropertyAddress is Required.
          </div> -->
      </div>

      <div class="form-group">
        <button class="btn btn-primary btn-block" type="submit">Submit</button>
      </div>
      <div *ngIf="success" class="form-group">
        <button
          class="btn btn-success btn-block"
          routerLink="/beds"
          type="submit"
        >
          Next
        </button>
      </div>
      
    </form>
  </div>
</section>
